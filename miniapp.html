<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NSFW Adventure App</title>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <style>
        * {
            -webkit-tap-highlight-color: transparent;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
            background: url('https://i.imgur.com/1PUcNC8.jpg') no-repeat center center fixed;
            background-size: cover;
            color: #d4af37;
            min-height: 100vh;
            overflow-y: auto;
        }

        .card {
            background: linear-gradient(145deg, rgba(35, 30, 55, 0.9), rgba(50, 40, 80, 0.9));
            border-radius: 20px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 2px solid #a33bff;
            backdrop-filter: blur(12px);
            box-shadow: 0 4px 15px rgba(163, 59, 255, 0.3), 0 0 8px rgba(163, 59, 255, 0.2) inset;
            position: relative;
            animation: slideIn 0.5s ease-out;
        }

        .card:hover {
            transform: translateY(-4px) rotate(0.3deg);
            box-shadow: 0 6px 20px rgba(163, 59, 255, 0.4), 0 0 10px rgba(163, 59, 255, 0.25) inset;
        }

        .card.selected {
            border-color: #00ffcc;
            box-shadow: 0 0 20px #00ffcc, 0 0 12px #00ffcc inset;
        }

        .product-image {
            height: 200px;
            width: 100%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            border-bottom: 3px solid #a33bff;
            transition: transform 0.5s ease;
            border-radius: 18px 18px 0 0;
            position: relative;
            overflow: hidden;
        }

        .product-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(163, 59, 255, 0.1), rgba(50, 40, 80, 0.3));
            pointer-events: none;
        }

        .card:hover .product-image {
            transform: scale(1.05);
        }

        .custom-button {
            background: linear-gradient(90deg, #ff69b4, #c71585);
            border-radius: 12px;
            padding: 8px 12px;
            font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
            font-weight: 500;
            font-size: 14px;
            border: none;
            color: #ffffff;
            text-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            box-shadow: 0 0 8px rgba(255, 105, 180, 0.3), 0 1px 5px rgba(255, 105, 180, 0.2);
            opacity: 0.9;
        }

        .custom-button:hover {
            background: linear-gradient(90deg, #c71585, #ff69b4);
            transform: scale(1.03);
            box-shadow: 0 0 12px rgba(255, 105, 180, 0.4), 0 2px 8px rgba(255, 105, 180, 0.25);
            animation: buttonPulse 2s infinite;
        }

        .buy-button {
            background: linear-gradient(90deg, #ff69b4, #c71585);
            border-radius: 12px;
            padding: 10px 14px;
            font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
            font-weight: 500;
            font-size: 14px;
            border: none;
            color: #ffffff;
            text-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            box-shadow: 0 0 8px rgba(255, 105, 180, 0.3), 0 1px 5px rgba(255, 105, 180, 0.2);
            width: 100%;
            opacity: 0.9;
        }

        .buy-button:hover {
            background: linear-gradient(90deg, #c71585, #ff69b4);
            transform: scale(1.03);
            box-shadow: 0 0 12px rgba(255, 105, 180, 0.4), 0 2px 8px rgba(255, 105, 180, 0.25);
        }

        #buySubscriptionBtn {
            background: linear-gradient(90deg, #ff69b4, #c71585);
            border-radius: 12px;
            padding: 10px 14px;
            font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
            font-weight: 500;
            font-size: 14px;
            border: none;
            color: #ffffff;
            text-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            box-shadow: 0 0 8px rgba(255, 105, 180, 0.3), 0 1px 5px rgba(255, 105, 180, 0.2);
            width: 100%;
            opacity: 0.9;
        }

        #buySubscriptionBtn:hover {
            background: linear-gradient(90deg, #c71585, #ff69b4);
            transform: scale(1.03);
            box-shadow: 0 0 12px rgba(255, 105, 180, 0.4), 0 2px 8px rgba(255, 105, 180, 0.25);
        }

        .modal {
            background: rgba(20, 15, 30, 0.95);
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease-out;
        }

        h2, h3 {
            font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
            color: #e6e6e6;
            font-weight: 400;
            text-shadow: 0 0 5px rgba(163, 59, 255, 0.5), 0 0 10px rgba(163, 59, 255, 0.3);
            font-size: 1.5rem;
        }

        p {
            font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
            line-height: 1.6;
            color: #c8b8e0;
            opacity: 0.85;
            font-size: 0.9rem;
        }

        .neon-text {
            font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
            color: #d9ccff;
            font-weight: 500;
            text-shadow: 0 0 5px rgba(163, 59, 255, 0.5), 0 0 10px rgba(163, 59, 255, 0.3);
            animation: neonFlicker 2.5s infinite;
        }

        .category-buttons {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            justify-content: center;
            gap: 8px;
            z-index: 10;
            background: linear-gradient(135deg, rgba(50, 40, 80, 0.8), rgba(80, 60, 110, 0.8));
            border-radius: 20px;
            padding: 8px 12px;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 10px rgba(163, 59, 255, 0.3), inset 0 0 5px rgba(163, 59, 255, 0.15);
            opacity: 0.9;
        }

        .category-button {
            background: linear-gradient(90deg, #ff69b4, #c71585);
            border-radius: 10px;
            padding: 5px;
            font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
            font-size: 16px;
            border: none;
            color: #ffffff;
            text-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            box-shadow: 0 0 8px rgba(255, 105, 180, 0.3);
            opacity: 0.9;
        }

        .category-button:hover {
            background: linear-gradient(90deg, #c71585, #ff69b4);
            transform: scale(1.05);
            box-shadow: 0 0 12px rgba(255, 105, 180, 0.4);
            animation: buttonPulse 2s infinite;
        }

        .content-section {
            padding-top: 80px;
            padding-bottom: 80px;
            animation: slideSection 0.5s ease-out;
            width: 100%;
            max-width: 95%;
            margin: 0 auto;
        }

        .hidden {
            display: none;
        }

        .header-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background: linear-gradient(145deg, rgba(35, 30, 55, 0.85), rgba(50, 40, 80, 0.85));
            backdrop-filter: blur(8px);
            border-bottom: 1px solid #a33bff;
            box-shadow: 0 0 10px rgba(163, 59, 255, 0.3);
            z-index: 20;
        }

        .section-title {
            font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(90deg, #ff69b4, #c71585);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.7), 0 0 20px rgba(199, 21, 133, 0.5);
            animation: neonFlicker 2.5s infinite;
            margin: 0;
        }

        .section-title::before,
        .section-title::after {
            content: '🔥';
            font-size: 20px;
            margin: 0 5px;
        }

        .balance-display {
            display: flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(90deg, #ff69b4, #c71585);
            padding: 6px 10px;
            border-radius: 12px;
            backdrop-filter: blur(5px);
            box-shadow: 0 0 8px rgba(255, 105, 180, 0.3);
        }

        .balance-item {
            display: flex;
            align-items: center;
            font-size: 14px;
            font-weight: 500;
            color: #ffffff;
            gap: 3px;
        }

        .balance-item .fire-icon, .balance-item .photo-icon {
            font-size: 14px;
            animation: flicker 2s infinite;
        }

        .add-fires-btn {
            background: linear-gradient(90deg, #00ffcc, #00b894);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            border: none;
            color: #ffffff;
            text-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 6px rgba(0, 255, 204, 0.3);
            opacity: 0.9;
        }

        .add-fires-btn:hover {
            background: linear-gradient(90deg, #00b894, #00ffcc);
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(0, 255, 204, 0.4);
        }

        .language-button {
            position: fixed;
            bottom: 20px;
            right: 15px;
            background: linear-gradient(90deg, #ff69b4, #c71585);
            border-radius: 12px;
            padding: 6px 10px;
            font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
            font-weight: 500;
            font-size: 14px;
            border: none;
            color: #ffffff;
            text-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 3px;
            box-shadow: 0 0 6px rgba(255, 105, 180, 0.2);
            opacity: 0.9;
            z-index: 10;
        }

        .language-button:hover {
            background: linear-gradient(90deg, #c71585, #ff69b4);
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(255, 105, 180, 0.3);
        }

        .checkmark {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 20px;
            height: 20px;
            background: #6b3d8d;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #d9ccff;
            font-size: 12px;
            transition: all 0.3s ease;
            opacity: 0;
        }

        .card.selected .checkmark {
            opacity: 1;
        }

        .subscription-card {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 12px;
            margin: 6px 0;
            cursor: pointer;
        }

        .subscription-card:hover {
            transform: translateY(-2px);
        }

        .subscription-card.selected {
            border-color: #00ffcc;
            box-shadow: 0 0 15px #00ffcc, 0 0 8px #00ffcc inset;
        }

        .subscription-info {
            display: flex;
            flex-direction: column;
        }

        .price-text {
            font-size: 12px;
            color: #e0b68a;
        }

        .subscription-details {
            margin-top: 15px;
            padding: 15px;
            background: linear-gradient(145deg, rgba(50, 40, 80, 0.85), rgba(35, 30, 55, 0.85));
            border-radius: 12px;
            border: 1px solid #a33bff;
            box-shadow: 0 0 15px rgba(163, 59, 255, 0.4), 0 0 8px rgba(163, 59, 255, 0.2) inset;
            backdrop-filter: blur(10px);
        }

        .details-header {
            font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
            color: #e6e6e6;
            font-size: 20px;
            text-shadow: 0 0 5px rgba(163, 59, 255, 0.5), 0 0 10px rgba(163, 59, 255, 0.3);
            margin-bottom: 8px;
        }

        .details-content p {
            margin-bottom: 8px;
        }

        .details-content p:last-child {
            margin-bottom: 0;
        }

        .details-content .highlight {
            color: #e06666;
            font-weight: 500;
        }

        .confirm-modal-content {
            background: linear-gradient(145deg, rgba(50, 40, 80, 0.85), rgba(35, 30, 55, 0.85));
            border-radius: 16px;
            padding: 15px;
            box-shadow: 0 0 15px rgba(163, 59, 255, 0.4), inset 0 0 8px rgba(163, 59, 255, 0.2);
            backdrop-filter: blur(12px);
            border: 1px solid #a33bff;
            animation: slideUp 0.4s ease-out;
            width: 90%;
            max-width: 360px;
            position: relative;
            overflow: hidden;
        }

        .confirm-modal-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 50% 0%, rgba(163, 59, 255, 0.15), transparent 70%);
            pointer-events: none;
        }

        .confirm-title {
            animation: slideLeft 0.5s ease-out;
        }

        .confirm-text {
            animation: slideRight 0.5s ease-out 0.1s;
            animation-fill-mode: both;
        }

        .confirm-buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 15px;
            animation: slideUp 0.5s ease-out 0.2s;
            animation-fill-mode: both;
        }

        @media (max-width: 640px) {
            .card {
                border-radius: 16px;
                margin: 0 5px;
            }
            .product-image {
                height: 160px;
            }
            .grid-cols-2 {
                grid-template-columns: 1fr;
                gap: 8px;
            }
            h2, h3 {
                font-size: 1.2rem;
            }
            p {
                font-size: 0.8rem;
            }
            .custom-button {
                padding: 6px 10px;
                font-size: 12px;
            }
            .buy-button, #buySubscriptionBtn {
                padding: 8px 12px;
                font-size: 12px;
            }
            .category-buttons {
                gap: 6px;
                padding: 6px 10px;
                width: auto;
            }
            .category-button {
                width: 30px;
                height: 30px;
                font-size: 14px;
            }
            .content-section {
                padding-top: 60px;
                padding-bottom: 70px;
            }
            .header-container {
                padding: 8px 10px;
            }
            .section-title {
                font-size: 1.8rem;
            }
            .section-title::before,
            .section-title::after {
                font-size: 18px;
            }
            .balance-display {
                gap: 6px;
                padding: 5px 8px;
            }
            .balance-item {
                font-size: 12px;
            }
            .balance-item .fire-icon, .balance-item .photo-icon {
                font-size: 12px;
            }
            .add-fires-btn {
                width: 18px;
                height: 18px;
                font-size: 10px;
            }
            .language-button {
                bottom: 70px;
                right: 10px;
                padding: 5px 8px;
                font-size: 12px;
            }
            .subscription-card {
                padding: 6px 10px;
                margin: 5px 0;
            }
            .subscription-details {
                padding: 12px;
            }
            .details-header {
                font-size: 18px;
            }
            .confirm-modal-content {
                padding: 12px;
                max-width: 320px;
            }
        }

        @media (max-width: 360px) {
            .section-title {
                font-size: 1.5rem;
            }
            .balance-display {
                flex-direction: column;
                align-items: flex-end;
                gap: 4px;
            }
            .category-buttons {
                padding: 5px 8px;
            }
            .category-button {
                width: 28px;
                height: 28px;
                font-size: 12px;
            }
        }

        @keyframes slideIn {
            from { transform: translateX(-30px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideSection {
            from { transform: translateY(15px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(40px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes slideLeft {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideRight {
            from { transform: translateX(20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes pulseGlow {
            0% { box-shadow: 0 0 10px rgba(163, 59, 255, 0.3), inset 0 0 5px rgba(163, 59, 255, 0.15); }
            50% { box-shadow: 0 0 15px rgba(163, 59, 255, 0.4), inset 0 0 8px rgba(163, 59, 255, 0.2); }
            100% { box-shadow: 0 0 10px rgba(163, 59, 255, 0.3), inset 0 0 5px rgba(163, 59, 255, 0.15); }
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.85; }
        }

        @keyframes neonFlicker {
            0%, 100% { text-shadow: 0 0 5px rgba(255, 105, 180, 0.5), 0 0 10px rgba(255, 105, 180, 0.3); }
            50% { text-shadow: 0 0 8px rgba(255, 105, 180, 0.6), 0 0 15px rgba(255, 105, 180, 0.4); }
        }

        @keyframes buttonPulse {
            0% { box-shadow: 0 0 8px rgba(255, 105, 180, 0.3), 0 1px 5px rgba(255, 105, 180, 0.2); }
            50% { box-shadow: 0 0 12px rgba(255, 105, 180, 0.4), 0 2px 8px rgba(255, 105, 180, 0.25); }
            100% { box-shadow: 0 0 8px rgba(255, 105, 180, 0.3), 0 1px 5px rgba(255, 105, 180, 0.2); }
        }
    </style>
</head>
<body class="flex flex-col items-center p-4">
    <div class="header-container">
        <div id="sectionTitle" class="section-title"></div>
        <div class="balance-display">
            <div class="balance-item">
                <span class="photo-icon">📷</span>
                <span id="photoLimitDisplay"></span>
            </div>
            <div class="balance-item">
                <span id="tokenCount" class="font-bold"></span>
                <span class="fire-icon">🔥</span>
                <button class="add-fires-btn" onclick="showSection('currencySection')">+</button>
            </div>
        </div>
    </div>

    <button id="languageBtn" class="language-button" onclick="toggleLanguage()">
        <span id="currentFlag"></span>
        <span id="languageText"></span>
    </button>

    <div class="category-buttons">
        <button id="scenariosBtn" class="category-button" onclick="showSection('scenariosSection')">📖</button>
        <button id="itemsBtn" class="category-button" onclick="showSection('itemsSection')">🛍️</button>
        <button id="subscriptionsBtn" class="category-button" onclick="showSection('subscriptionsSection')">⭐</button>
        <button id="currencyBtn" class="category-button" onclick="showSection('currencySection')">💰</button>
    </div>

    <div id="mainContent" class="content-section">
        <div id="scenariosSection">
            <div class="grid grid-cols-2 gap-4">
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4">
                        <h3 id="scenario1Title" class="text-lg font-semibold"></h3>
                        <p id="scenario1Desc" class="mt-2"></p>
                        <button class="custom-button mt-4" onclick="selectScenario(1)">
                            <span>🔥</span> <span id="scenario1Btn"></span>
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4">
                        <h3 id="scenario2Title" class="text-lg font-semibold"></h3>
                        <p id="scenario2Desc" class="mt-2"></p>
                        <button class="custom-button mt-4" onclick="selectScenario(2)">
                            <span>🔥</span> <span id="scenario2Btn"></span>
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4">
                        <h3 id="scenario3Title" class="text-lg font-semibold"></h3>
                        <p id="scenario3Desc" class="mt-2"></p>
                        <button class="custom-button mt-4" onclick="selectScenario(3)">
                            <span>🔥</span> <span id="scenario3Btn"></span>
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4">
                        <h3 id="scenario4Title" class="text-lg font-semibold"></h3>
                        <p id="scenario4Desc" class="mt-2"></p>
                        <button class="custom-button mt-4" onclick="selectScenario(4)">
                            <span>🔥</span> <span id="scenario4Btn"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="subscriptionsSection" class="hidden">
            <div id="subscriptionDetails" class="subscription-details">
                <h3 id="detailsHeader" class="details-header"></h3>
                <div id="subscriptionsDesc" class="details-content">
                    <p>Преимущества премиума 🔥✨</p>
                    <p id="photoLimitText">Новый лимит: 50 фото/день + Безлимитный чат! 💬💃</p>
                    <p>Одевайся лучше 🌟</p>
                    <p>Отвечай быстрее ⚡</p>
                    <p>Улучшенное качество изображений 🎨</p>
                    <p>Приоритетный доступ к сценариям 🚀</p>
                </div>
            </div>
            <div class="mt-4">
                <div class="card subscription-card" onclick="selectPlan(1)">
                    <div class="subscription-info">
                        <p id="sub1Day" class="neon-text text-md font-medium">1 день</p>
                        <p class="price-text">$2.00</p>
                    </div>
                    <div class="checkmark">✔</div>
                </div>
                <div class="card subscription-card" onclick="selectPlan(2)">
                    <div class="subscription-info">
                        <p id="sub3Days" class="neon-text text-md font-medium">3 дня</p>
                        <p class="price-text">$5.00</p>
                    </div>
                    <div class="checkmark">✔</div>
                </div>
                <div class="card subscription-card" onclick="selectPlan(3)">
                    <div class="subscription-info">
                        <p id="sub1Week" class="neon-text text-md font-medium">1 неделя</p>
                        <p class="price-text">$13.00</p>
                    </div>
                    <div class="checkmark">✔</div>
                </div>
                <div class="card subscription-card" onclick="selectPlan(4)">
                    <div class="subscription-info">
                        <p id="sub1Month" class="neon-text text-md font-medium">1 месяц +30🔥 огней</p>
                        <p class="price-text">$25.00</p>
                    </div>
                    <div class="checkmark">✔</div>
                </div>
                <div class="card subscription-card" onclick="selectPlan(5)">
                    <div class="subscription-info">
                        <p id="sub3Months" class="neon-text text-md font-medium">3 месяца +100🔥 огней</p>
                        <p class="price-text">$70.00</p>
                    </div>
                    <div class="checkmark">✔</div>
                </div>
                <div class="card subscription-card" onclick="selectPlan(6)">
                    <div class="subscription-info">
                        <p id="subForever" class="neon-text text-md font-medium">Навсегда +200🔥 огней</p>
                        <p class="price-text">$50.00</p>
                    </div>
                    <div class="checkmark">✔</div>
                </div>
                <div class="card subscription-card" onclick="selectPlan(7)">
                    <div class="subscription-info">
                        <p id="subDeluxe" class="neon-text text-md font-medium">Делюкс (безлимит) +500🔥 огней</p>
                        <p class="price-text">$100.00</p>
                    </div>
                    <div class="checkmark">✔</div>
                </div>
            </div>
            <button id="buySubscriptionBtn" class="mt-4" onclick="buySelectedSubscription()">
                <span id="buyBtnText"></span>
            </button>
        </div>

        <div id="currencySection" class="hidden">
            <p id="currencyBalanceText" class="text-center mt-4"></p>
            <div class="grid grid-cols-2 gap-4 mt-6">
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4 text-center">
                        <p id="smallPack" class="neon-text text-md"></p>
                        <p id="smallPackDesc" class="text-sm mt-1"></p>
                        <button class="buy-button mt-4" onclick="buyTokens(100, PRICES.currency.smallPack)">
                            <span id="buyBtnSmallPack"></span>
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4 text-center">
                        <p id="mediumPack" class="neon-text text-md"></p>
                        <p id="mediumPackDesc" class="text-sm mt-1"></p>
                        <button class="buy-button mt-4" onclick="buyTokens(200, PRICES.currency.mediumPack)">
                            <span id="buyBtnMediumPack"></span>
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4 text-center">
                        <p id="largePack" class="neon-text text-md"></p>
                        <p id="largePackDesc" class="text-sm mt-1"></p>
                        <button class="buy-button mt-4" onclick="buyTokens(500, PRICES.currency.largePack)">
                            <span id="buyBtnLargePack"></span>
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4 text-center">
                        <p id="megaPack" class="neon-text text-md"></p>
                        <p id="megaPackDesc" class="text-sm mt-1"></p>
                        <button class="buy-button mt-4" onclick="buyTokens(1000, PRICES.currency.megaPack)">
                            <span id="buyBtnMegaPack"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="itemsSection" class="hidden">
            <div class="grid grid-cols-2 gap-4 mt-6">
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4 text-center">
                        <p id="analPlug" class="neon-text text-md"></p>
                        <p id="analPlugDesc" class="text-sm mt-1"></p>
                        <button class="buy-button mt-4" onclick="buyItem('analPlug', PRICES.items.analPlug.fires)">
                            <span id="buyBtnAnalPlug"></span>
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4 text-center">
                        <p id="pajamas" class="neon-text text-md"></p>
                        <p id="pajamasDesc" class="text-sm mt-1"></p>
                        <button class="buy-button mt-4" onclick="buyItem('pajamas', PRICES.items.pajamas.fires)">
                            <span id="buyBtnPajamas"></span>
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4 text-center">
                        <p id="stockings" class="neon-text text-md"></p>
                        <p id="stockingsDesc" class="text-sm mt-1"></p>
                        <button class="buy-button mt-4" onclick="buyItem('stockings', PRICES.items.stockings.fires)">
                            <span id="buyBtnStockings"></span>
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4 text-center">
                        <p id="handcuffs" class="neon-text text-md"></p>
                        <p id="handcuffsDesc" class="text-sm mt-1"></p>
                        <button class="buy-button mt-4" onclick="buyItem('handcuffs', PRICES.items.handcuffs.fires)">
                            <span id="buyBtnHandcuffs"></span>
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4 text-center">
                        <p id="lubricants" class="neon-text text-md"></p>
                        <p id="lubricantsDesc" class="text-sm mt-1"></p>
                        <button class="buy-button mt-4" onclick="buyItem('lubricants', PRICES.items.lubricants.fires)">
                            <span id="buyBtnLubricants"></span>
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4 text-center">
                        <p id="truthOrDare" class="neon-text text-md"></p>
                        <p id="truthOrDareDesc" class="text-sm mt-1"></p>
                        <button class="buy-button mt-4" onclick="buyItem('truthOrDare', PRICES.items.truthOrDare.fires)">
                            <span id="buyBtnTruthOrDare"></span>
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4 text-center">
                        <p id="masksBlindfolds" class="neon-text text-md"></p>
                        <p id="masksBlindfoldsDesc" class="text-sm mt-1"></p>
                        <button class="buy-button mt-4" onclick="buyItem('masksBlindfolds', PRICES.items.masksBlindfolds.fires)">
                            <span id="buyBtnMasksBlindfolds"></span>
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4 text-center">
                        <p id="massageFoam" class="neon-text text-md"></p>
                        <p id="massageFoamDesc" class="text-sm mt-1"></p>
                        <button class="buy-button mt-4" onclick="buyItem('massageFoam', PRICES.items.massageFoam.fires)">
                            <span id="buyBtnMassageFoam"></span>
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="product-image"></div>
                    <div class="p-4 text-center">
                        <p id="sexSwing" class="neon-text text-md"></p>
                        <p id="sexSwingDesc" class="text-sm mt-1"></p>
                        <button class="buy-button mt-4" onclick="buyItem('sexSwing', PRICES.items.sexSwing.fires)">
                            <span id="buyBtnSexSwing"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="languageModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
        <div class="confirm-modal-content">
            <h3 id="languageTitle" class="text-2xl font-bold mb-4"></h3>
            <button class="custom-button mb-2 w-full" onclick="setLanguage('en')">
                <span>🇬🇧</span> English
            </button>
            <button class="custom-button mb-2 w-full" onclick="setLanguage('ru')">
                <span>🇷🇺</span> Русский
            </button>
            <button class="custom-button bg-red-600 hover:bg-red-700 w-full" onclick="closeLanguageModal()">
                <span>✖</span> <span id="closeBtnText"></span>
            </button>
        </div>
    </div>

    <div id="confirmModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
        <div class="confirm-modal-content">
            <h3 id="confirmTitle" class="confirm-title text-2xl font-bold mb-4"></h3>
            <p id="confirmText" class="confirm-text mb-4"></p>
            <div class="confirm-buttons">
                <button id="confirmBtn" class="custom-button bg-green-600 hover:bg-green-700 w-full"></button>
                <button id="cancelBtn" class="custom-button bg-red-600 hover:bg-red-700 w-full"></button>
            </div>
        </div>
    </div>

    <script>
        const tg = window.Telegram ? window.Telegram.WebApp : { ready: () => {}, expand: () => {} };
        tg.ready();
        tg.expand();

        const userData = {
            user1: { fires: 0, subscriptionDaysLeft: 0, photoLimit: 100, dailyPhotoCount: 18 },
            user2: { fires: 0, subscriptionDaysLeft: 0, photoLimit: 0, dailyPhotoCount: 0 },
        };

        let currentUser = 'user1';
        let tokens = userData[currentUser].fires;
        let maxTokens = Infinity;
        const scenarios = [];
        let language = 'ru';
        let subscriptionDaysLeft = userData[currentUser].subscriptionDaysLeft;
        let photoLimit = userData[currentUser].photoLimit;
        let dailyPhotoCount = userData[currentUser].dailyPhotoCount;
        let selectedPlan = null;
        let selectedCard = null;
        const ownedItems = [];
        let currentSection = 'scenariosSection';

        const translations = {
            en: {
                scenarios: 'Scenarios',
                subscriptions: 'Subscriptions',
                currency: 'Currency',
                items: 'Shop',
                languages: 'Languages',
                scenario1Title: 'Tutor Asleep',
                scenario1Desc: 'You enter her home, door ajar, finding her naked and dreaming of you. Wake her with a sinful touch! 😈',
                scenario1Btn: 'Unlock (100 Fires)',
                scenario2Title: 'Teacher After School',
                scenario2Desc: 'Alone with her to fix grades, her tight skirt teases as she bends over. 🔥',
                scenario2Btn: 'Unlock (100 Fires)',
                scenario3Title: 'Policewoman Stop',
                scenario3Desc: 'She pulls you over in the wild, no license—her smirk promises a naughty punishment! 💋',
                scenario3Btn: 'Unlock (100 Fires)',
                scenario4Title: 'Helping Friend',
                scenario4Desc: 'Her computer’s stuck, and her shy glances turn into wild invites as you lean in. 😏',
                scenario4Btn: 'Unlock (100 Fires)',
                detailsHeader: 'Premium Benefits',
                subscriptionsDesc: 'Premium Benefits 🔥✨\nNew Limit: 50 Photos/Day + Unlimited Chat! 💬💃\nDress Better 🌟\nReply Faster ⚡\nEnhanced Image Quality 🎨\nPriority Scenarios Access 🚀',
                subscriptionsDescDeluxe: 'Premium Benefits 🔥✨\nNew Limit: Unlimited Photos/Day + Unlimited Chat! 💬💃\nDress Better 🌟\nReply Faster ⚡\nEnhanced Image Quality 🎨\nPriority Scenarios Access 🚀',
                sub1Day: '1 Day',
                sub3Days: '3 Days',
                sub1Week: '1 Week',
                sub1Month: '1 Month +30🔥 Fires',
                sub3Months: '3 Months +100🔥 Fires',
                subForever: 'Forever +200🔥 Fires',
                subDeluxe: 'Deluxe (Unlimited) +500🔥 Fires',
                buyBtn: 'Buy Subscription',
                buyBtnSmallPack: 'Buy for $6',
                buyBtnMediumPack: 'Buy for $12',
                buyBtnLargePack: 'Buy for $25',
                buyBtnMegaPack: 'Buy for $45',
                currencyBalance: 'Your current balance: ',
                smallPack: 'Small Pack',
                smallPackDesc: 'A quick boost with 100🔥 Fires! 🚀',
                mediumPack: 'Medium Pack',
                mediumPackDesc: 'Fuel your fantasies with 200🔥 Fires! 💥',
                largePack: 'Large Pack',
                largePackDesc: 'Unleash the heat with 500🔥 Fires! 🔥',
                megaPack: 'Mega Pack',
                megaPackDesc: 'Go all out with 1000🔥 Fires! 🌟',
                itemsTitle: 'Explore Naughty Items',
                analPlug: 'Anal Plug',
                analPlugDesc: 'Smooth silicone plug for beginners. 💜',
                buyBtnAnalPlug: 'Buy for 50🔥',
                pajamas: 'Naughty Pajamas',
                pajamasDesc: 'Silky set to set the mood. 🌙',
                buyBtnPajamas: 'Buy for 80🔥',
                stockings: 'Seductive Stockings',
                stockingsDesc: 'Lace stockings to tease. 🖤',
                buyBtnStockings: 'Buy for 60🔥',
                handcuffs: 'Furry Handcuffs',
                handcuffsDesc: 'Soft cuffs for playful restraint. 🖐️',
                buyBtnHandcuffs: 'Buy for 70🔥',
                lubricants: 'Water-Based Lubricants',
                lubricantsDesc: 'Smooth glide for extra fun. 💦',
                buyBtnLubricants: 'Buy for 40🔥',
                truthOrDare: 'Truth or Dare Game',
                truthOrDareDesc: 'Spicy game for daring couples. 🎲',
                buyBtnTruthOrDare: 'Buy for 90🔥',
                masksBlindfolds: 'Masks & Blindfolds',
                masksBlindfoldsDesc: 'Satin set to heighten senses. 😷',
                buyBtnMasksBlindfolds: 'Buy for 50🔥',
                massageFoam: 'Massage Foam',
                massageFoamDesc: 'Aromatic foam for sensual touch. 🫧',
                buyBtnMassageFoam: 'Buy for 60🔥',
                sexSwing: 'Sex Swing',
                sexSwingDesc: 'Unlock new positions with ease. 🏋️',
                buyBtnSexSwing: 'Buy for 150🔥',
                languageTitle: 'Select Language',
                closeBtn: 'Close',
                confirmUnlock: 'Confirm Unlock',
                notEnoughFires: 'Not Enough Fires!',
                missingFires: amount => `You need ${amount} more Fires!`,
                buyFiresBtn: 'Buy Fires',
                cancelBtn: 'Cancel',
                scenarioUnlock: scenarioId => `Scenario "${['Tutor Asleep', 'Teacher After School', 'Policewoman Stop', 'Helping Friend'][scenarioId - 1]}" unlocked! Enjoy! 😏`,
                buyTokensMsg: (amount, price) => `You bought ${amount} Fires for $${price}! Dive in! 😈`,
                buySubMsg: (price, bonus) => `Subscription activated for $${price}! ${bonus > 0 ? `+${bonus} Fires bonus! ` : ''}Enjoy! 💋`,
                buyItemMsg: (item) => `You bought ${item}! Enjoy the naughty fun! 😈`,
                alreadyOwnedMsg: (item) => `You already own ${item}!`,
                languageSetMsg: 'Language set to English!',
                selectPlanMsg: 'Please select a subscription plan!'
            },
            ru: {
                scenarios: 'Сценарии',
                subscriptions: 'Подписки',
                currency: 'Валюта',
                items: 'Магазин',
                languages: 'Языки',
                scenario1Title: 'Спящий репетитор',
                scenario1Desc: 'Ты заходишь к ней домой, дверь приоткрыта, она спит голая и видит тебя во сне. Разбуди её греховным прикосновением! 😈',
                scenario1Btn: 'Разблокировать (100 огней)',
                scenario2Title: 'Учительница после уроков',
                scenario2Desc: 'Наедине с ней ради исправления оценок, её обтягивающая юбка дразнит, когда она наклоняется. 🔥',
                scenario2Btn: 'Разблокировать (100 огней)',
                scenario3Title: 'Остановка полицейской',
                scenario3Desc: 'Она останавливает тебя в глуши, прав нет — её ухмылка обещает развратное наказание! 💋',
                scenario3Btn: 'Разблокировать (100 огней)',
                scenario4Title: 'Помощь подруге',
                scenario4Desc: 'Её компьютер завис, а робкие взгляды превращаются в жаркие намёки, когда ты наклоняешься ближе. 😏',
                scenario4Btn: 'Разблокировать (100 огней)',
                detailsHeader: 'Преимущества премиума',
                subscriptionsDesc: 'Преимущества премиума 🔥✨\nНовый лимит: 50 фото/день + Безлимитный чат! 💬💃\nОдевайся лучше 🌟\nОтвечай быстрее ⚡\nУлучшенное качество изображений 🎨\nПриоритетный доступ к сценариям 🚀',
                subscriptionsDescDeluxe: 'Преимущества премиума 🔥✨\nНовый лимит: Безлимит фото/день + Безлимитный чат! 💬💃\nОдевайся лучше 🌟\nОтвечай быстрее ⚡\nУлучшенное качество изображений 🎨\nПриоритетный доступ к сценариям 🚀',
                sub1Day: '1 день',
                sub3Days: '3 дня',
                sub1Week: '1 неделя',
                sub1Month: '1 месяц +30🔥 огней',
                sub3Months: '3 месяца +100🔥 огней',
                subForever: 'Навсегда +200🔥 огней',
                subDeluxe: 'Делюкс (безлимит) +500🔥 огней',
                buyBtn: 'Купить подписку',
                buyBtnSmallPack: 'Купить за $6',
                buyBtnMediumPack: 'Купить за $12',
                buyBtnLargePack: 'Купить за $25',
                buyBtnMegaPack: 'Купить за $45',
                currencyBalance: 'Ваш текущий баланс: ',
                smallPack: 'Малый набор',
                smallPackDesc: 'Быстрый буст с 100🔥 огней! 🚀',
                mediumPack: 'Средний набор',
                mediumPackDesc: 'Разожги фантазии с 200🔥 огней! 💥',
                largePack: 'Большой набор',
                largePackDesc: 'Раскрой жар с 500🔥 огней! 🔥',
                megaPack: 'Мега набор',
                megaPackDesc: 'Выложись на полную с 1000🔥 огней! 🌟',
                itemsTitle: 'Исследуй пикантные предметы',
                analPlug: 'Анусная пробка',
                analPlugDesc: 'Гладкая силиконовая пробка для новичков. 💜',
                buyBtnAnalPlug: 'Купить за 50🔥',
                pajamas: 'Соблазнительная пижама',
                pajamasDesc: 'Шелковый комплект для настроения. 🌙',
                buyBtnPajamas: 'Купить за 80🔥',
                stockings: 'Соблазнительные чулки',
                stockingsDesc: 'Кружевные чулки для дразнящего эффекта. 🖤',
                buyBtnStockings: 'Купить за 60🔥',
                handcuffs: 'Наручники с мехом',
                handcuffsDesc: 'Мягкие наручники для игривых ограничений. 🖐️',
                buyBtnHandcuffs: 'Купить за 70🔥',
                lubricants: 'Смазки на водной основе',
                lubricantsDesc: 'Плавное скольжение для большего удовольствия. 💦',
                buyBtnLubricants: 'Купить за 40🔥',
                truthOrDare: 'Игра "Правда или действие"',
                truthOrDareDesc: 'Пикантная игра для смелых пар. 🎲',
                buyBtnTruthOrDare: 'Купить за 90🔥',
                masksBlindfolds: 'Маски и повязки на глаза',
                masksBlindfoldsDesc: 'Атласный набор для усиления ощущений. 😷',
                buyBtnMasksBlindfolds: 'Купить за 50🔥',
                massageFoam: 'Пена для массажа',
                massageFoamDesc: 'Ароматная пена для чувственного прикосновения. 🫧',
                buyBtnMassageFoam: 'Купить за 60🔥',
                sexSwing: 'Секс-качели',
                sexSwingDesc: 'Открой новые позы с легкостью. 🏋️',
                buyBtnSexSwing: 'Купить за 150🔥',
                languageTitle: 'Выберите язык',
                closeBtn: 'Закрыть',
                confirmUnlock: 'Подтвердить разблокировку',
                notEnoughFires: 'Недостаточно огней!',
                missingFires: amount => `Недостаточно ${amount} огней!`,
                buyFiresBtn: 'Докупить',
                cancelBtn: 'Отмена',
                scenarioUnlock: scenarioId => `Сценарий "${['Спящий репетитор', 'Учительница после уроков', 'Остановка полицейской', 'Помощь подруге'][scenarioId - 1]}" разблокирован! Наслаждайся! 😏`,
                buyTokensMsg: (amount, price) => `Вы купили ${amount} огней за $${price}! Погружайся! 😈`,
                buySubMsg: (price, bonus) => `Подписка активирована за $${price}! ${bonus > 0 ? `+${bonus} огней бонусом! ` : ''}Наслаждайся! 💋`,
                buyItemMsg: (item) => `Вы купили ${item}! Наслаждайтесь пикантным удовольствием! 😈`,
                alreadyOwnedMsg: (item) => `У вас уже есть ${item}!`,
                languageSetMsg: 'Язык установлен на Русский!',
                selectPlanMsg: 'Пожалуйста, выберите план подписки!'
            }
        };

        function updateUI() {
            tokens = userData[currentUser].fires;
            subscriptionDaysLeft = userData[currentUser].subscriptionDaysLeft;
            photoLimit = userData[currentUser].photoLimit;
            dailyPhotoCount = userData[currentUser].dailyPhotoCount;

            document.getElementById('tokenCount').innerText = tokens;
            document.getElementById('photoLimitDisplay').innerText = `${dailyPhotoCount} / ${photoLimit}`;
            document.getElementById('currencyBalanceText').innerText = `${translations[language].currencyBalance}${tokens} Fires`;

            document.getElementById('sectionTitle').innerText = translations[language][{
                'scenariosSection': 'scenarios',
                'itemsSection': 'items',
                'subscriptionsSection': 'subscriptions',
                'currencySection': 'currency'
            }[currentSection]];

            const deluxeSelected = selectedPlan === 7;
            const subscriptionsDesc = document.getElementById('subscriptionsDesc');
            subscriptionsDesc.innerHTML = (deluxeSelected ? translations[language].subscriptionsDescDeluxe : translations[language].subscriptionsDesc)
                .split('\n')
                .map(line => `<p>${line}</p>`)
                .join('');

            const scenarioImages = document.querySelectorAll('#scenariosSection .product-image');
            scenarioImages[0].style.backgroundImage = `url(${SCENARIO_TUTOR_ASLEEP})`;
            scenarioImages[1].style.backgroundImage = `url(${SCENARIO_TEACHER_AFTER_SCHOOL})`;
            scenarioImages[2].style.backgroundImage = `url(${SCENARIO_POLICEWOMAN_STOP})`;
            scenarioImages[3].style.backgroundImage = `url(${SCENARIO_HELPING_FRIEND})`;

            const currencyImages = document.querySelectorAll('#currencySection .product-image');
            currencyImages[0].style.backgroundImage = `url(${CURRENCY_SMALL_PACK})`;
            currencyImages[1].style.backgroundImage = `url(${CURRENCY_MEDIUM_PACK})`;
            currencyImages[2].style.backgroundImage = `url(${CURRENCY_LARGE_PACK})`;
            currencyImages[3].style.backgroundImage = `url(${CURRENCY_MEGA_PACK})`;

            const itemImages = document.querySelectorAll('#itemsSection .product-image');
            itemImages[0].style.backgroundImage = `url(${ITEM_ANAL_PLUG})`;
            itemImages[1].style.backgroundImage = `url(${ITEM_PAJAMAS})`;
            itemImages[2].style.backgroundImage = `url(${ITEM_STOCKINGS})`;
            itemImages[3].style.backgroundImage = `url(${ITEM_HANDCUFFS})`;
            itemImages[4].style.backgroundImage = `url(${ITEM_LUBRICANTS})`;
            itemImages[5].style.backgroundImage = `url(${ITEM_TRUTH_OR_DARE})`;
            itemImages[6].style.backgroundImage = `url(${ITEM_MASKS_BLINDFOLDS})`;
            itemImages[7].style.backgroundImage = `url(${ITEM_MASSAGE_FOAM})`;
            itemImages[8].style.backgroundImage = `url(${ITEM_SEX_SWING})`;

            document.querySelectorAll('.card').forEach(card => card.classList.remove('selected'));
            if (selectedCard) selectedCard.classList.add('selected');
            document.querySelectorAll('.subscription-card').forEach(card => card.classList.remove('selected'));
            if (selectedPlan) document.querySelectorAll('.subscription-card')[selectedPlan - 1].classList.add('selected');
        }

        function buyTokens(amount, price) {
            userData[currentUser].fires += amount;
            updateUI();
            showAlert(translations[language].buyTokensMsg(amount, price));
        }

        function buyItem(itemId, fireCost) {
            const itemName = translations[language][itemId];
            const confirmModal = document.getElementById('confirmModal');
            const confirmTitle = document.getElementById('confirmTitle');
            const confirmText = document.getElementById('confirmText');
            const confirmBtn = document.getElementById('confirmBtn');
            const cancelBtn = document.getElementById('cancelBtn');

            if (ownedItems.includes(itemId)) {
                showAlert(translations[language].alreadyOwnedMsg(itemName));
                return;
            }

            if (tokens < fireCost) {
                const missing = fireCost - tokens;
                confirmTitle.innerText = translations[language].notEnoughFires;
                confirmText.innerText = translations[language].missingFires(missing);
                confirmBtn.innerText = translations[language].buyFiresBtn;
                confirmBtn.onclick = () => {
                    closeConfirmModal();
                    showSection('currencySection');
                };
                cancelBtn.innerText = translations[language].cancelBtn;
                cancelBtn.onclick = closeConfirmModal;
                confirmModal.classList.remove('hidden');
            } else {
                confirmTitle.innerText = translations[language].confirmUnlock;
                confirmText.innerText = language === 'en' ?
                    `Buy "${itemName}" for ${fireCost} Fires?` :
                    `Купить "${itemName}" за ${fireCost} огней?`;
                confirmBtn.innerText = language === 'en' ? 'Confirm' : 'Подтвердить';
                confirmBtn.onclick = () => {
                    userData[currentUser].fires -= fireCost;
                    ownedItems.push(itemId);
                    updateUI();
                    closeConfirmModal();
                    showAlert(translations[language].buyItemMsg(itemName));
                };
                cancelBtn.innerText = translations[language].cancelBtn;
                cancelBtn.onclick = closeConfirmModal;
                confirmModal.classList.remove('hidden');
            }
        }

        function toggleLanguage() {
            language = language === 'en' ? 'ru' : 'en';
            updateLanguage();
            updateLanguageButton();
            showAlert(translations[language].languageSetMsg);
        }

        function updateLanguageButton() {
            const currentFlag = document.getElementById('currentFlag');
            const languageText = document.getElementById('languageText');
            currentFlag.innerText = language === 'en' ? '🇬🇧' : '🇷🇺';
            languageText.innerText = language === 'en' ? 'English' : 'Русский';
        }

        function setLanguage(lang) {
            language = lang;
            updateLanguage();
            updateLanguageButton();
            closeLanguageModal();
            showAlert(translations[language].languageSetMsg);
        }

        function closeLanguageModal() {
            const languageModal = document.getElementById('languageModal');
            languageModal.classList.add('hidden');
        }

        function updateLanguage() {
            const elements = {
                subscriptionsTitle: translations[language].subscriptions,
                detailsHeader: translations[language].detailsHeader,
                currencyTitle: translations[language].currency,
                itemsTitle: translations[language].itemsTitle,
                scenario1Title: translations[language].scenario1Title,
                scenario1Desc: translations[language].scenario1Desc,
                scenario1Btn: translations[language].scenario1Btn,
                scenario2Title: translations[language].scenario2Title,
                scenario2Desc: translations[language].scenario2Desc,
                scenario2Btn: translations[language].scenario2Btn,
                scenario3Title: translations[language].scenario3Title,
                scenario3Desc: translations[language].scenario3Desc,
                scenario3Btn: translations[language].scenario3Btn,
                scenario4Title: translations[language].scenario4Title,
                scenario4Desc: translations[language].scenario4Desc,
                scenario4Btn: translations[language].scenario4Btn,
                sub1Day: translations[language].sub1Day,
                sub3Days: translations[language].sub3Days,
                sub1Week: translations[language].sub1Week,
                sub1Month: translations[language].sub1Month,
                sub3Months: translations[language].sub3Months,
                subForever: translations[language].subForever,
                subDeluxe: translations[language].subDeluxe,
                buyBtnText: translations[language].buyBtn,
                currencyBalanceText: `${translations[language].currencyBalance}${tokens} Fires`,
                smallPack: translations[language].smallPack,
                smallPackDesc: translations[language].smallPackDesc,
                mediumPack: translations[language].mediumPack,
                mediumPackDesc: translations[language].mediumPackDesc,
                largePack: translations[language].largePack,
                largePackDesc: translations[language].largePackDesc,
                megaPack: translations[language].megaPack,
                megaPackDesc: translations[language].megaPackDesc,
                buyBtnSmallPack: translations[language].buyBtnSmallPack,
                buyBtnMediumPack: translations[language].buyBtnMediumPack,
                buyBtnLargePack: translations[language].buyBtnLargePack,
                buyBtnMegaPack: translations[language].buyBtnMegaPack,
                analPlug: translations[language].analPlug,
                analPlugDesc: translations[language].analPlugDesc,
                buyBtnAnalPlug: translations[language].buyBtnAnalPlug,
                pajamas: translations[language].pajamas,
                pajamasDesc: translations[language].pajamasDesc,
                buyBtnPajamas: translations[language].buyBtnPajamas,
                stockings: translations[language].stockings,
                stockingsDesc: translations[language].stockingsDesc,
                buyBtnStockings: translations[language].buyBtnStockings,
                handcuffs: translations[language].handcuffs,
                handcuffsDesc: translations[language].handcuffsDesc,
                buyBtnHandcuffs: translations[language].buyBtnHandcuffs,
                lubricants: translations[language].lubricants,
                lubricantsDesc: translations[language].lubricantsDesc,
                buyBtnLubricants: translations[language].buyBtnLubricants,
                truthOrDare: translations[language].truthOrDare,
                truthOrDareDesc: translations[language].truthOrDareDesc,
                buyBtnTruthOrDare: translations[language].buyBtnTruthOrDare,
                masksBlindfolds: translations[language].masksBlindfolds,
                masksBlindfoldsDesc: translations[language].masksBlindfoldsDesc,
                buyBtnMasksBlindfolds: translations[language].buyBtnMasksBlindfolds,
                massageFoam: translations[language].massageFoam,
                massageFoamDesc: translations[language].massageFoamDesc,
                buyBtnMassageFoam: translations[language].buyBtnMassageFoam,
                sexSwing: translations[language].sexSwing,
                sexSwingDesc: translations[language].sexSwingDesc,
                buyBtnSexSwing: translations[language].buyBtnSexSwing,
                languageTitle: translations[language].languageTitle,
                closeBtnText: translations[language].closeBtn
            };

            for (const [id, text] of Object.entries(elements)) {
                const element = document.getElementById(id);
                if (element) element.innerText = text;
            }

            const deluxeSelected = selectedPlan === 7;
            const subscriptionsDesc = document.getElementById('subscriptionsDesc');
            subscriptionsDesc.innerHTML = (deluxeSelected ? translations[language].subscriptionsDescDeluxe : translations[language].subscriptionsDesc)
                .split('\n')
                .map(line => `<p>${line}</p>`)
                .join('');

            document.getElementById('sectionTitle').innerText = translations[language][{
                'scenariosSection': 'scenarios',
                'itemsSection': 'items',
                'subscriptionsSection': 'subscriptions',
                'currencySection': 'currency'
            }[currentSection]];
        }

        function showSection(sectionId) {
            const sections = ['scenariosSection', 'subscriptionsSection', 'currencySection', 'itemsSection'];
            sections.forEach(sec => {
                const section = document.getElementById(sec);
                section.classList.add('hidden');
                section.style.animation = '';
            });
            const activeSection = document.getElementById(sectionId);
            activeSection.classList.remove('hidden');
            activeSection.style.animation = 'slideSection 0.5s ease-out';
            currentSection = sectionId;
            updateUI();
        }

        function selectScenario(id) {
            const requiredTokens = PRICES.scenarios[id];
            const confirmModal = document.getElementById('confirmModal');
            const confirmTitle = document.getElementById('confirmTitle');
            const confirmText = document.getElementById('confirmText');
            const confirmBtn = document.getElementById('confirmBtn');
            const cancelBtn = document.getElementById('cancelBtn');
            const card = document.querySelector(`#scenariosSection .card:nth-child(${id})`);

            if (selectedCard) selectedCard.classList.remove('selected');
            selectedCard = card;
            card.classList.add('selected');

            if (tokens < requiredTokens) {
                const missing = requiredTokens - tokens;
                confirmTitle.innerText = translations[language].notEnoughFires;
                confirmText.innerText = translations[language].missingFires(missing);
                confirmBtn.innerText = translations[language].buyFiresBtn;
                confirmBtn.onclick = () => {
                    closeConfirmModal();
                    showSection('currencySection');
                };
                cancelBtn.innerText = translations[language].cancelBtn;
                cancelBtn.onclick = closeConfirmModal;
                confirmModal.classList.remove('hidden');
            } else {
                confirmTitle.innerText = translations[language].confirmUnlock;
                confirmText.innerText = language === 'en' ?
                    `Unlock "${['Tutor Asleep', 'Teacher After School', 'Policewoman Stop', 'Helping Friend'][id - 1]}" for ${requiredTokens} Fires?` :
                    `Разблокировать "${['Спящий репетитор', 'Учительница после уроков', 'Остановка полицейской', 'Помощь подруге'][id - 1]}" за ${requiredTokens} огней?`;
                confirmBtn.innerText = language === 'en' ? 'Confirm' : 'Подтвердить';
                confirmBtn.onclick = () => {
                    userData[currentUser].fires -= requiredTokens;
                    scenarios.push(id);
                    updateUI();
                    closeConfirmModal();
                    showAlert(translations[language].scenarioUnlock(id));
                };
                cancelBtn.innerText = translations[language].cancelBtn;
                cancelBtn.onclick = closeConfirmModal;
                confirmModal.classList.remove('hidden');
            }
        }

        function selectPlan(planId) {
            selectedPlan = planId;
            updateUI();
        }

        function buySelectedSubscription() {
            if (!selectedPlan) {
                showAlert(translations[language].selectPlanMsg);
                return;
            }

            const planDetails = [
                { duration: '1 день', price: PRICES.subscriptions.oneDay, bonusFires: 0 },
                { duration: '3 дня', price: PRICES.subscriptions.threeDays, bonusFires: 0 },
                { duration: '1 неделя', price: PRICES.subscriptions.oneWeek, bonusFires: 0 },
                { duration: '1 месяц', price: PRICES.subscriptions.oneMonth, bonusFires: 30 },
                { duration: '3 месяца', price: PRICES.subscriptions.threeMonths, bonusFires: 100 },
                { duration: 'Навсегда', price: PRICES.subscriptions.forever, bonusFires: 200 },
                { duration: 'Делюкс (безлимит)', price: PRICES.subscriptions.deluxe, bonusFires: 500 }
            ][selectedPlan - 1];

            const confirmModal = document.getElementById('confirmModal');
            const confirmTitle = document.getElementById('confirmTitle');
            const confirmText = document.getElementById('confirmText');
            const confirmBtn = document.getElementById('confirmBtn');
            const cancelBtn = document.getElementById('cancelBtn');

            confirmTitle.innerText = translations[language].confirmUnlock;
            confirmText.innerText = language === 'en' ?
                `Activate "${planDetails.duration}" subscription for $${planDetails.price}?` :
                `Активировать подписку "${planDetails.duration}" за $${planDetails.price}?`;
            confirmBtn.innerText = language === 'en' ? 'Confirm' : 'Подтвердить';
            confirmBtn.onclick = () => {
                userData[currentUser].fires += planDetails.bonusFires;
                userData[currentUser].subscriptionDaysLeft = planDetails.duration === 'Навсегда' ? Infinity : parseInt(planDetails.duration) || 0;
                userData[currentUser].photoLimit = planDetails.duration === 'Делюкс (безлимит)' ? Infinity : 50;
                updateUI();
                closeConfirmModal();
                showAlert(translations[language].buySubMsg(planDetails.price, planDetails.bonusFires));
            };
            cancelBtn.innerText = translations[language].cancelBtn;
            cancelBtn.onclick = closeConfirmModal;
            confirmModal.classList.remove('hidden');
        }

        function showAlert(message) {
            const confirmModal = document.getElementById('confirmModal');
            const confirmTitle = document.getElementById('confirmTitle');
            const confirmText = document.getElementById('confirmText');
            const confirmBtn = document.getElementById('confirmBtn');
            const cancelBtn = document.getElementById('cancelBtn');

            confirmTitle.innerText = language === 'en' ? 'Success' : 'Успех';
            confirmText.innerText = message;
            confirmBtn.innerText = language === 'en' ? 'OK' : 'ОК';
            confirmBtn.onclick = closeConfirmModal;
            cancelBtn.style.display = 'none';
            confirmModal.classList.remove('hidden');
        }

        function closeConfirmModal() {
            const confirmModal = document.getElementById('confirmModal');
            confirmModal.classList.add('hidden');
            document.getElementById('cancelBtn').style.display = 'block';
        }

        document.addEventListener('DOMContentLoaded', () => {
            updateLanguage();
            updateLanguageButton();
            updateUI();
            showSection('scenariosSection');
        });

        // Константы для URL изображений продуктов
        const SCENARIO_TUTOR_ASLEEP = 'https://example.com/images/scenarios/tutor_asleep.jpg';
        const SCENARIO_TEACHER_AFTER_SCHOOL = 'https://example.com/images/scenarios/teacher_after_school.jpg';
        const SCENARIO_POLICEWOMAN_STOP = 'https://example.com/images/scenarios/policewoman_stop.jpg';
        const SCENARIO_HELPING_FRIEND = 'https://example.com/images/scenarios/helping_friend.jpg';
        const CURRENCY_SMALL_PACK = 'https://example.com/images/currency/small_pack.jpg';
        const CURRENCY_MEDIUM_PACK = 'https://example.com/images/currency/medium_pack.jpg';
        const CURRENCY_LARGE_PACK = 'https://example.com/images/currency/large_pack.jpg';
        const CURRENCY_MEGA_PACK = 'https://example.com/images/currency/mega_pack.jpg';
        const ITEM_ANAL_PLUG = 'https://example.com/images/items/anal_plug.jpg';
        const ITEM_PAJAMAS = 'https://example.com/images/items/pajamas.jpg';
        const ITEM_STOCKINGS = 'https://example.com/images/items/stockings.jpg';
        const ITEM_HANDCUFFS = 'https://example.com/images/items/handcuffs.jpg';
        const ITEM_LUBRICANTS = 'https://example.com/images/items/lubricants.jpg';
        const ITEM_TRUTH_OR_DARE = 'https://example.com/images/items/truth_or_dare.jpg';
        const ITEM_MASKS_BLINDFOLDS = 'https://example.com/images/items/masks_blindfolds.jpg';
        const ITEM_MASSAGE_FOAM = 'https://example.com/images/items/massage_foam.jpg';
        const ITEM_SEX_SWING = 'https://example.com/images/items/sex_swing.jpg';

        // Цены для всех элементов
        const PRICES = {
            scenarios: {
                1: 100, // Спящий репетитор
                2: 100, // Учительница после уроков
                3: 100, // Остановка полицейской
                4: 100  // Помощь подруге
            },
            subscriptions: {
                oneDay: 2.00,      // 1 день
                threeDays: 5.00,   // 3 дня
                oneWeek: 13.00,    // 1 неделя
                oneMonth: 25.00,   // 1 месяц
                threeMonths: 70.00,// 3 месяца
                forever: 50.00,    // Навсегда
                deluxe: 100.00     // Делюкс
            },
            currency: {
                smallPack: 6.00,   // 100 огней
                mediumPack: 12.00, // 200 огней
                largePack: 25.00,  // 500 огней
                megaPack: 45.00    // 1000 огней
            },
            items: {
                analPlug: { fires: 50 },
                pajamas: { fires: 80 },
                stockings: { fires: 60 },
                handcuffs: { fires: 70 },
                lubricants: { fires: 40 },
                truthOrDare: { fires: 90 },
                masksBlindfolds: { fires: 50 },
                massageFoam: { fires: 60 },
                sexSwing: { fires: 150 }
            }
        };

        // Рекомендации по размерам изображений
        // Для карточек (scenarios, items, currency):
        // - Оптимальный размер: 600x400 пикселей (соотношение 3:2)
        // - Формат: JPG или PNG с компрессией для быстрой загрузки
        // - Максимальный размер файла: 500 КБ
        // - Минимальное разрешение: 300x200 пикселей для четкости на мобильных устройствах
        // Пример подготовки изображения:
        // 1. Используйте редактор (Photoshop, GIMP) для обрезки до 600x400
        // 2. Сохраните с качеством 80-90% для JPG
        // 3. Проверьте, чтобы изображение четко отображалось на экранах Retina
    </script>
</body>
</html>
